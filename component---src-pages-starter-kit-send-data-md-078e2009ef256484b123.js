"use strict";(self.webpackChunkcommerce_extensibility=self.webpackChunkcommerce_extensibility||[]).push([[4781],{22603:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return r},default:function(){return u}});var t=a(58168),i=a(80045),d=(a(88763),a(15680)),o=a(83407);a(39193);const m=["components"],r={},s=(p="CodeBlock",function(e){return console.warn("Component "+p+" was not imported, exported, or provided by MDXProvider as global scope"),(0,d.mdx)("div",e)});var p;const c={_frontmatter:r},l=o.A;function u(e){let{components:n}=e,a=(0,i.A)(e,m);return(0,d.mdx)(l,(0,t.A)({},c,a,{components:n,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"expose-commerce-data"},"Expose Commerce data"),(0,d.mdx)("p",null,"This runtime action is responsible for notifying the external backoffice application when an ",(0,d.mdx)("inlineCode",{parentName:"p"},"<object>")," is created, updated, or deleted in Adobe Commerce."),(0,d.mdx)("integration",null),(0,d.mdx)("h2",{id:"incoming-event-payload"},"Incoming event payload"),(0,d.mdx)("p",null,"The incoming event payload specified during ",(0,d.mdx)("a",{parentName:"p",href:"../events/configure-commerce.md#subscribe-and-register-events"},"event registration")," determines the incoming information."),(0,d.mdx)("p",null,(0,d.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1051px"}},"\n      ",(0,d.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"45.9375%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,d.mdx)("picture",{parentName:"span"},"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/commerce-extensibility/static/50aa24ab90e238f99f70de179e461f3c/5530d/publish.webp 320w","/commerce-extensibility/static/50aa24ab90e238f99f70de179e461f3c/0c8fb/publish.webp 640w","/commerce-extensibility/static/50aa24ab90e238f99f70de179e461f3c/c88ff/publish.webp 1051w"],sizes:"(max-width: 1051px) 100vw, 1051px",type:"image/webp"}),"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/commerce-extensibility/static/50aa24ab90e238f99f70de179e461f3c/dd4a7/publish.png 320w","/commerce-extensibility/static/50aa24ab90e238f99f70de179e461f3c/0f09e/publish.png 640w","/commerce-extensibility/static/50aa24ab90e238f99f70de179e461f3c/9f6f0/publish.png 1051w"],sizes:"(max-width: 1051px) 100vw, 1051px",type:"image/png"}),"\n          ",(0,d.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-extensibility/static/50aa24ab90e238f99f70de179e461f3c/9f6f0/publish.png",alt:"publish info from commerce",title:"publish info from commerce",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"order")," runtime action requires the ",(0,d.mdx)("inlineCode",{parentName:"p"},"created_at")," and ",(0,d.mdx)("inlineCode",{parentName:"p"},"updated_at")," fields."),(0,d.mdx)(s,{slots:"heading, code",repeat:"4",languages:"JSON, JSON, JSON, JSON",mdxType:"CodeBlock"}),(0,d.mdx)("h4",{id:"customer"},"customer"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n   "id": 1,\n   "created_at":"2000-12-31 16:52:40",\n   "updated_at":"2000-12-31 16:48:40"\n}\n')),(0,d.mdx)("h4",{id:"customer_group"},"customer_group"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "customer_group_id": 6,\n  "customer_group_code": "Group name code",\n  "tax_class_id": 4,\n  "tax_class_name": "Tax class name",\n  "extension_attributes": {\n    "exclude_website_ids":[]\n  }\n}\n')),(0,d.mdx)("h4",{id:"order"},"order"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "real_order_id": "ORDER_ID",\n  "increment_id": "ORDER_INCREMENTAL_ID",\n  "items": [\n    {\n      "item_id": "ITEM_ID"\n    }\n  ],\n  "created_at": "2000-01-01",\n  "updated_at": "2000-01-01"\n}\n')),(0,d.mdx)("h4",{id:"product"},"product"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n   "created_at":"2023-11-24 16:52:40",\n   "name":"Test product name",\n   "sku":"2_4_7_TestProduct",\n   "updated_at":"2023-11-29 16:48:55"\n}\n')),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"params")," also specify the ",(0,d.mdx)("inlineCode",{parentName:"p"},"event_code")," and ",(0,d.mdx)("inlineCode",{parentName:"p"},"event_id"),"."),(0,d.mdx)("h2",{id:"payload-transformation"},"Payload transformation"),(0,d.mdx)("p",null,"If necessary, make any transformation changes necessary for the external backoffice application's formatting in the ",(0,d.mdx)("inlineCode",{parentName:"p"},"transformData")," function in the ",(0,d.mdx)("inlineCode",{parentName:"p"},"transformer.js")," file."),(0,d.mdx)("h2",{id:"connect-to-the-backoffice-application"},"Connect to the backoffice application"),(0,d.mdx)("p",null,"Define the connection information in the ",(0,d.mdx)("inlineCode",{parentName:"p"},"sendData")," function in the ",(0,d.mdx)("inlineCode",{parentName:"p"},"sender.js")," file.  Include all the authentication and connection information in the ",(0,d.mdx)("inlineCode",{parentName:"p"},"sender.js")," file or an extracted file outside ",(0,d.mdx)("inlineCode",{parentName:"p"},"index.js"),"."),(0,d.mdx)("p",null,"Parameters from the environment can be accessed from ",(0,d.mdx)("inlineCode",{parentName:"p"},"params"),". Add the necessary parameters in the ",(0,d.mdx)("inlineCode",{parentName:"p"},"actions/<object>/commerce/actions.config.yaml")," under ",(0,d.mdx)("inlineCode",{parentName:"p"},"created -> inputs"),", ",(0,d.mdx)("inlineCode",{parentName:"p"},"updated -> inputs"),", or ",(0,d.mdx)("inlineCode",{parentName:"p"},"deleted -> inputs")," as follows:"),(0,d.mdx)(s,{slots:"heading, code",repeat:"3",languages:"yaml, yaml, yaml",mdxType:"CodeBlock"}),(0,d.mdx)("h4",{id:"create"},"create"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-yaml"},"created:\n  function: commerce/created/index.js\n  web: 'no'\n  runtime: nodejs:16\n  inputs:\n    LOG_LEVEL: debug\n    HERE_YOUR_PARAM: $HERE_YOUR_PARAM_ENV\n  annotations:\n    require-adobe-auth: true\n    final: true\n")),(0,d.mdx)("h4",{id:"update"},"update"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-yaml"},"updated:\n  function: commerce/updated/index.js\n  web: 'no'\n  runtime: nodejs:16\n  inputs:\n    LOG_LEVEL: debug\n    HERE_YOUR_PARAM: $HERE_YOUR_PARAM_ENV\n  annotations:\n    require-adobe-auth: true\n    final: true\n")),(0,d.mdx)("h4",{id:"delete"},"delete"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-yaml"},"deleted:\n  function: commerce/deleted/index.js\n  web: 'no'\n  runtime: nodejs:16\n  inputs:\n    LOG_LEVEL: debug\n    HERE_YOUR_PARAM: $HERE_YOUR_PARAM_ENV\n  annotations:\n    require-adobe-auth: true\n    final: true\n")))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-starter-kit-send-data-md-078e2009ef256484b123.js.map