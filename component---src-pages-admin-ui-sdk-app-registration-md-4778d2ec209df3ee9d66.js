"use strict";(self.webpackChunkcommerce_extensibility=self.webpackChunkcommerce_extensibility||[]).push([[3596],{42054:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return p},default:function(){return s}});var a=t(58168),i=t(80045),o=(t(88763),t(15680)),r=t(83407);const m=["components"],p={},d={_frontmatter:p},l=r.A;function s(e){let{components:n}=e,t=(0,i.A)(e,m);return(0,o.mdx)(l,(0,a.A)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"app-ui-registration"},"App UI registration"),(0,o.mdx)("p",null,"Your app must be correctly configured with Adobe App Registry to use the Admin UI SDK to create a custom UI in Commerce. You must perform the following steps before submitting your app to be published."),(0,o.mdx)("h2",{id:"add-or-update-the-installyml-file"},"Add or update the ",(0,o.mdx)("inlineCode",{parentName:"h2"},"install.yml")," file"),(0,o.mdx)("p",null,"Create an ",(0,o.mdx)("inlineCode",{parentName:"p"},"install.yml")," file in the root of your project."),(0,o.mdx)("p",null,"Make sure you target the correct ",(0,o.mdx)("inlineCode",{parentName:"p"},"extensionPointId"),": ",(0,o.mdx)("inlineCode",{parentName:"p"},"commerce/backend-ui/1")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-yaml"},"$schema: http://json-schema.org/draft-07/schema\n$id: https://adobe.io/schemas/app-builder-templates/1\n\ncategories:\n  - action\n  - ui\n\nextensions:\n  - extensionPointId: commerce/backend-ui/1\n")),(0,o.mdx)("h2",{id:"create-or-update-the-extension-manifestjson-file"},"Create or update the ",(0,o.mdx)("inlineCode",{parentName:"h2"},"extension-manifest.json")," file"),(0,o.mdx)("p",null,"Create or update your project ",(0,o.mdx)("inlineCode",{parentName:"p"},"extension-manifest.json")," file so that it is similar to the following:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "commerce-first-app",\n  "displayName": "Commerce First App on App Builder",\n  "description": "Commerce First App on App Builder",\n  "platform": "web",\n  "id": "commerce-first-app",\n  "version": "1.0.0"\n}\n')),(0,o.mdx)("h2",{id:"add-an-extensionregistration-component"},"Add an ",(0,o.mdx)("inlineCode",{parentName:"h2"},"ExtensionRegistration")," component"),(0,o.mdx)("p",null,"Create an ",(0,o.mdx)("inlineCode",{parentName:"p"},"ExtensionRegistration")," React component that registers the menu configuration in the App Registry. Use the ",(0,o.mdx)("inlineCode",{parentName:"p"},"adobe/uix-sdk")," with the ",(0,o.mdx)("inlineCode",{parentName:"p"},"adobe-uix-guest")," dependency. The ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/uix/docs/getting-started/design/"},"UI Extensibility Getting Started")," guide describes this process further."),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Add the ",(0,o.mdx)("inlineCode",{parentName:"p"},"uix-guest")," dependency in the ",(0,o.mdx)("inlineCode",{parentName:"p"},"package.json"),"."),(0,o.mdx)("pre",{parentName:"li"},(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'"@adobe/uix-guest": "^0.8.3"\n'))),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Run ",(0,o.mdx)("inlineCode",{parentName:"p"},"npm install"),"."),(0,o.mdx)("pre",{parentName:"li"},(0,o.mdx)("code",{parentName:"pre",className:"language-bash"},"npm install\n"))),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Create an ",(0,o.mdx)("inlineCode",{parentName:"p"},"ExtensionRegistration.js")," file as follows:"),(0,o.mdx)("pre",{parentName:"li"},(0,o.mdx)("code",{parentName:"pre",className:"language-javascript"},"import { register } from '@adobe/uix-guest';\n\nexport default function ExtensionRegistration() {\n  init().catch(console.error);\n  return <></>;\n }\n\n const extensionId = 'commerce-first-app'\n \n const init = async () => {\n   await register({\n     id: extensionId,\n     methods: {\n       ...\n     }\n   }\n )\n}\n")))),(0,o.mdx)("p",null,"You must populate the ",(0,o.mdx)("inlineCode",{parentName:"p"},"methods")," section with calls to fetch menus, pages, and other entities to be displayed in the Admin. ",(0,o.mdx)("a",{parentName:"p",href:"extension-points/index.md"},"Extension Points")," provides reference information and examples."),(0,o.mdx)("h2",{id:"update-the-appjs-routing"},"Update the ",(0,o.mdx)("inlineCode",{parentName:"h2"},"App.js")," routing"),(0,o.mdx)("p",null,"Add the following route to your ",(0,o.mdx)("inlineCode",{parentName:"p"},"App.js")," file to define the correct routing to your app:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-javascript"},"<Route path={'index.html'} element={<ExtensionRegistration />} />\n")),(0,o.mdx)("p",null,"Make sure that your main page is correctly routed to the index. Here is an example of the first app routing in the ",(0,o.mdx)("inlineCode",{parentName:"p"},"App.js")," component:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-javascript"},"<ErrorBoundary onError={onError} FallbackComponent={fallbackComponent}>\n  <BrowserRouter>\n      <Provider theme={lightTheme} colorScheme={'light'}>\n          <Routes>\n              <Route path={'index.html'} element={<ExtensionRegistration />} />\n              <Route index element={<MainPage runtime={props.runtime} ims={props.ims} />} />\n          </Routes>\n      </Provider>\n  </BrowserRouter>\n</ErrorBoundary>\n")),(0,o.mdx)("h2",{id:"update-the-appconfigyaml-file"},"Update the ",(0,o.mdx)("inlineCode",{parentName:"h2"},"app.config.yaml")," file"),(0,o.mdx)("p",null,"Update the ",(0,o.mdx)("inlineCode",{parentName:"p"},"app.config.yaml")," ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/app-builder/docs/guides/configuration/"},"configuration file")," as follows:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-yaml"},"extensions:\n  commerce/backend-ui/1:\n    $include: ext.config.yaml\n")),(0,o.mdx)("p",null,"This file now declares extensions and redirects to an ",(0,o.mdx)("inlineCode",{parentName:"p"},"ext.config.yaml")," file."),(0,o.mdx)("h2",{id:"add-or-update-the-extconfigyaml"},"Add or update the ",(0,o.mdx)("inlineCode",{parentName:"h2"},"ext.config.yaml")),(0,o.mdx)("p",null,"Your extension configuration file should look like this:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-yaml"},"operations:\n  view:\n    - type: web\n      impl: index.html\nactions: actions\nweb: web-src\nruntimeManifest:\n  packages:\n    SampleExtension:\n      license: Apache-2.0\n      actions:\n")),(0,o.mdx)("p",null,"Complete this file with the actions from your app."))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-admin-ui-sdk-app-registration-md-4778d2ec209df3ee9d66.js.map